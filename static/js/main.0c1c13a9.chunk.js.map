{"version":3,"sources":["FileInput.js","Show.js","Viewer.js","App.js","index.js"],"names":["FileInput","react_default","a","createElement","style","backgroundColor","width","height","display","justifyContent","alignItems","className","id","type","accept","onChange","this","props","htmlFor","Component","tumblr_re","GfycatStore","store","JSON","parse","localStorage","getItem","e","cleanExpired","now","Date","expiresAt","get","_get","Object","asyncToGenerator","regenerator_default","mark","_callee","gfyId","resp","json","wrap","_context","prev","next","fetch","concat","sent","url","gfyItem","webmUrl","getTime","setItem","stringify","abrupt","stop","_x","apply","arguments","Gfycat","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","pathname","substr","then","setState","catch","err","console","error","autoPlay","loop","controls","src","Iframe","_this2","imgLoaded","loading","_this$props","title","restProps","objectWithoutProperties","assign","onLoad","frameBorder","scrolling","Img","_this3","imgErrored","alt","href","onError","objectFit","Strategy","_ref","host","slice","protocol","replace","test","Show_Img","Show_Gfycat","origin","match","searchParams","split","_url$pathname$match$s","_url$pathname$match$s2","slicedToArray","username","pic_id","src_base","toLowerCase","join","backgroundImage","map","ext","Show_Iframe","Show","_ref2","_ref2$link","link","list","source","URL","key","flexGrow","flexShrink","padding","paddingTop","color","target","rel","Show_Strategy","Viewer","handleKeys","ctrlKey","altKey","shiftKey","metaKey","video","document","querySelector","code","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullScreen","webkitEnterFullScreen","bind","paused","play","pause","pos","q","links","Math","min","length","_ref3","max","window","addEventListener","removeEventListener","disabled","onClick","Show_Show","App","handleChange","evt","fr","readAsText","files","FileReader","csv","result","content","inp","arr","i","j","floor","random","shuffled","filter","x","r","alert","FileInput_FileInput","Viewer_Viewer","ReactDOM","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.0c1c13a9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./FileInput.css\";\n\nexport default class FileInput extends Component {\n  render() {\n    return (\n      <div\n        style={{\n          backgroundColor: \"black\",\n          width: \"100%\",\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        <div className=\"file-input-container\">\n          <h1>BFV</h1>\n          <input\n            id=\"file-input\"\n            type=\"file\"\n            accept=\".csv\"\n            onChange={this.props.onChange}\n          />\n          <label htmlFor=\"file-input\">Choose a file</label>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./Show.css\";\n\nconst tumblr_re = /^\\d+?\\.media\\.tumblr\\.com$/;\n\nconst gfycatStoreKey = \"gfycatUrls\";\nconst GfycatStore = (() => {\n  let store;\n  try {\n    store = JSON.parse(localStorage.getItem(gfycatStoreKey) || \"{}\");\n  } catch (e) {\n    store = {};\n  }\n\n  const cleanExpired = () => {\n    const now = new Date();\n    for (const id in store) {\n      if (store[id].expiresAt <= now) delete store[id];\n    }\n  };\n\n  return {\n    get: async gfyId => {\n      cleanExpired();\n      if (!(gfyId in store)) {\n        const resp = await fetch(`https://api.gfycat.com/v1/gfycats/${gfyId}`);\n        const json = await resp.json();\n        store[gfyId] = {\n          url: json.gfyItem.webmUrl,\n          expiresAt: new Date().getTime() + 1 * 24 * 60 * 60 * 1000 // 1 day\n        };\n      }\n      localStorage.setItem(gfycatStoreKey, JSON.stringify(store));\n      return store[gfyId].url;\n    }\n  };\n})();\n\nclass Gfycat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { webmUrl: null };\n    GfycatStore.get(props.url.pathname.substr(1))\n      .then(webmUrl => this.setState({ webmUrl }))\n      .catch(err => console.error(err));\n  }\n\n  render() {\n    return <video autoPlay loop controls src={this.state.webmUrl} />;\n  }\n}\n\nclass Iframe extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: true };\n  }\n\n  imgLoaded = () => this.setState({ loading: false });\n\n  render() {\n    const { src, title, ...restProps } = this.props;\n    return (\n      <iframe\n        className={this.state.loading ? \"iframe-loading\" : \"\"}\n        onLoad={this.imgLoaded}\n        title={title}\n        src={src}\n        frameBorder=\"0\"\n        scrolling=\"no\"\n        {...restProps}\n      />\n    );\n  }\n}\n\nclass Img extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: true, error: false };\n  }\n\n  imgLoaded = () => this.setState({ loading: false });\n\n  imgErrored = () => this.setState({ loading: false, error: true });\n\n  render() {\n    const className = this.state.loading\n      ? \"loading\"\n      : this.state.error\n      ? \"error\"\n      : \"\";\n    return (\n      <img\n        className={className}\n        alt=\"\"\n        src={this.props.url.href}\n        onLoad={this.imgLoaded}\n        onError={this.imgErrored}\n        style={{ objectFit: \"contain\" }}\n      />\n    );\n  }\n}\n\nconst Strategy = ({ url }) => {\n  let title, src;\n  switch (true) {\n    case url.host === \"i.imgur.com\":\n      if (url.pathname.slice(0, 3) === \"/a/\") {\n        title = \"imgur\";\n        src =\n          url.protocol +\n          \"//imgur.com\" +\n          url.pathname.replace(\".jpg\", \"\") +\n          \"/embed?pub=true\";\n        break;\n      }\n    // eslint-disable-next-line -- FALLTHROUGH\n    case tumblr_re.test(url.host):\n      return <Img url={url} />;\n    case url.host === \"gfycat.com\":\n      return <Gfycat url={url} />;\n    case url.host === \"www.xvideos.com\":\n      title = \"xvideos\";\n      src =\n        url.origin + \"/embedframe/\" + url.pathname.match(/\\/video(\\d+)\\//)[1];\n      break;\n    case url.host === \"www.pornhub.com\":\n      title = \"pornhub\";\n      src = url.origin + \"/embed/\" + url.searchParams.get(\"viewkey\");\n      break;\n    case url.host === \"xhamster.com\":\n      title = \"xhamster\";\n      src = url.origin + \"/embed/\" + url.pathname.split(\"/\")[2];\n      break;\n    case url.host === \"www.hentai-foundry.com\":\n      const [username, pic_id] = url.pathname\n        .match(/^\\/pictures\\/user\\/(.*)\\/(.*)\\//)\n        .slice(1);\n      const src_base = [\n        \"https://pictures.hentai-foundry.com\",\n        username[0].toLowerCase(),\n        username,\n        pic_id\n      ].join(\"/\");\n      return (\n        <div\n          className=\"img\"\n          style={{\n            backgroundImage: [\"png\", \"jpg\"]\n              .map(ext => `url(${src_base}.${ext})`)\n              .join(\",\")\n          }}\n        />\n      );\n    default:\n      title = \"default\";\n      src = url.href;\n  }\n  return <Iframe src={src} title={title} />;\n};\n\nexport default function Show({ link: [list, source], style }) {\n  const url = new URL(source);\n  return (\n    <div key={source} className=\"item-container\" style={style}>\n      <div\n        style={{\n          flexGrow: 0,\n          flexShrink: 0,\n          padding: 5,\n          paddingTop: 0,\n          color: \"white\"\n        }}\n      >\n        {list} - <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">Source</a>\n      </div>\n      <Strategy url={url} />\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport Show from \"./Show\";\nimport \"./Viewer.css\";\n\nexport default class Viewer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { pos: 0 };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeys);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeys);\n  }\n\n  handleKeys = e => {\n    if (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) {\n      return;\n    }\n    const video = document.querySelector(\".item-container > video\");\n\n    switch (e.code) {\n      case \"ArrowLeft\":\n      case \"KeyA\":\n        return this.prev();\n      case \"ArrowRight\":\n      case \"KeyD\":\n        return this.next();\n      case \"KeyF\":\n        if (video) {\n          (\n            video.requestFullscreen ||\n            video.webkitRequestFullScreen ||\n            video.mozRequestFullScreen ||\n            video.msRequestFullScreen ||\n            video.webkitEnterFullScreen ||\n            (() => null)\n          ).bind(video)();\n        }\n        return;\n      case \"Space\":\n        if (video) {\n          if (video.paused) {\n            video.play();\n          } else {\n            video.pause();\n          }\n        }\n        return;\n      default:\n        return;\n    }\n  };\n\n  next = () => {\n    this.setState(({ pos }, { links: q }) => ({\n      pos: Math.min(pos + 1, q.length - 1)\n    }));\n  };\n\n  prev = () => {\n    this.setState(({ pos }) => ({\n      pos: Math.max(pos - 1, 0)\n    }));\n  };\n\n  render() {\n    const { pos } = this.state;\n    const { links } = this.props;\n    return (\n      <div className=\"viewer-container\">\n        <div className=\"button-container\">\n          <button disabled={pos === 0} onClick={this.prev}>\n            Previous\n          </button>\n          <button disabled={pos === links.length - 1} onClick={this.next}>\n            Next\n          </button>\n        </div>\n        <Show link={links[pos]} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport FileInput from \"./FileInput\";\nimport Viewer from \"./Viewer\";\n\nfunction shuffled(inp) {\n  const arr = inp.slice();\n  for (let i = arr.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n  }\n  return arr;\n}\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.fr = new FileReader();\n    this.fr.addEventListener(\"loadend\", () => {\n      const csv = this.fr.result.split(\"\\n\");\n      if (csv[0] !== \"listname,source,type,description\") {\n        window.alert(\"Provided csv file is not a BF export\");\n        return;\n      }\n      // links is a list of (listname, source) tuples\n      const content = shuffled(\n        csv\n          .slice(1)\n          .filter(x => !!x)\n          .map(r => r.split(\",\").slice(0, 2))\n      );\n      this.setState({ content });\n    });\n    this.state = { content: null };\n  }\n\n  handleChange = evt => this.fr.readAsText(evt.target.files[0]);\n\n  render() {\n    if (this.state.content === null) {\n      return <FileInput onChange={this.handleChange} />;\n    }\n    return <Viewer links={this.state.content} />;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}